<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GT-MARKDAWIN โ ูุญุฑุฑ ูุงุฑูุฏุงูู ูุชุทูุฑ</title>
  <meta name="description" content="ูุญุฑุฑ ูุงุฑู ุฏุงูู ุนุตุฑู ูุฏุนู ุงูุนุฑุจูุฉ" />
  <meta name="theme-color" content="#0b0f13" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>๐</text></svg>">
</head>
<body>
  <div class="app-container">
    <header class="app-header">
      <div class="left-head">
        <h1 class="app-title">๐ GT-MARKDAWIN</h1>
        <div class="subtitle">ูุญุฑุฑ ูุงุฑูุฏุงูู ุนุฑุจู ุนุตุฑู</div>
      </div>
      <div class="header-right">
        <select id="fontSelector" class="font-selector" title="ุงุฎุชูุงุฑ ุงูุฎุท">
          <option value="__system__">ุงูุชุฑุงุถู ุงููุธุงู</option>
        </select>
        <button id="importFontsBtn" class="btn-icon" title="ุงุณุชูุฑุงุฏ/ุชุญุฏูุซ ุงูุฎุทูุท">๐งพ</button>
        <button id="emojiBtnHeader" class="btn-icon" title="ุงูุฑููุฒ ุงูุชุนุจูุฑุฉ">๐</button>
        <button id="themeToggle" class="btn-icon" title="ุชุจุฏูู ุงูุณูุฉ">โ๏ธ</button>
        <button id="fullscreenToggle" class="btn-icon" title="ููุก ุงูุดุงุดุฉ">โถ</button>
      </div>
    </header>

    <nav class="toolbar" aria-label="ุดุฑูุท ุฃุฏูุงุช ุงููุงุฑูุฏุงูู">
      <div class="toolbar-group">
        <button data-cmd="bold" class="toolbar-btn" title="ุนุฑูุถ (Ctrl+B)"><strong>B</strong></button>
        <button data-cmd="italic" class="toolbar-btn" title="ูุงุฆู (Ctrl+I)"><em>I</em></button>
        <button data-cmd="code" class="toolbar-btn" title="ููุฏ inline">{ }</button>
        <button data-cmd="codeblock" class="toolbar-btn" title="ูุชูุฉ ููุฏ">```</button>
        <button data-cmd="blockquote" class="toolbar-btn" title="ุงูุชุจุงุณ">โ</button>
        <button data-cmd="hr" class="toolbar-btn" title="ูุงุตู">โโโ</button>
      </div>

      <div class="toolbar-group">
        <button data-cmd="h1" class="toolbar-btn">H1</button>
        <button data-cmd="h2" class="toolbar-btn">H2</button>
        <button data-cmd="h3" class="toolbar-btn">H3</button>
        <button data-cmd="h4" class="toolbar-btn">H4</button>
        <button data-cmd="h5" class="toolbar-btn">H5</button>
        <button data-cmd="h6" class="toolbar-btn">H6</button>
      </div>

      <div class="toolbar-group">
        <button data-cmd="ul" class="toolbar-btn">โข ูุงุฆูุฉ</button>
        <button data-cmd="ol" class="toolbar-btn">1. ูุงุฆูุฉ</button>
        <button data-cmd="task" class="toolbar-btn">โ๏ธ ูููุฉ</button>
      </div>

      <div class="toolbar-group">
        <button data-cmd="table" class="toolbar-btn">ุฌุฏูู</button>
        <button data-cmd="link" class="toolbar-btn">๐ ุฑุงุจุท</button>
        <button data-cmd="image" class="toolbar-btn">๐ผ๏ธ ุตูุฑุฉ</button>
        <button data-cmd="align-left" class="toolbar-btn">โค</button>
        <button data-cmd="align-center" class="toolbar-btn">โ</button>
        <button data-cmd="align-right" class="toolbar-btn">โฅ</button>
      </div>
    </nav>

    <main class="editor-container">
      <div class="editor-panel">
        <div class="panel-header">
          <h3>ุงููุชุงุจุฉ</h3>
          <div class="editor-actions">
            <button id="togglePreview" class="btn-primary">ุฅุฎูุงุก ุงููุนุงููุฉ</button>
            <button id="clearBtn" class="btn-secondary">ูุณุญ</button>
            <button id="importBtn" class="btn-secondary">ุงุณุชูุฑุงุฏ</button>
          </div>
        </div>
        <textarea id="editor" placeholder="# ูุฑุญุจูุง ุจู ูู GT-MARKDAWIN"></textarea>
      </div>

      <div class="preview-panel">
        <div class="panel-header">
          <h3>ุงููุนุงููุฉ</h3>
          <div class="preview-actions">
            <button id="exportHtml" class="btn-secondary">ุชุตุฏูุฑ HTML</button>
            </div>
        </div>
        <div id="preview" class="preview-content">ุงููุนุงููุฉ ุณุชุธูุฑ ููุง...</div>
      </div>
    </main>

    <footer class="status-bar footer">
      <div class="status-info">
        <span id="wordCount">ุงููููุงุช: 0</span>
        <span id="charCount">ุงูุญุฑูู: 0</span>
        <span id="lineCount">ุงูุณุทูุฑ: 1</span>
      </div>
      <div class="status-actions">
        <button id="saveBtn" class="btn-success">๐พ ุญูุธ (Markdown)</button>
        <button id="loadBtn" class="btn-secondary">๐ ูุชุญ ููู</button>
      </div>
    </footer>

    <div class="site-footer">
      <div>ูุงุฑู ุฏูููููู - GT-MARKDAWIN</div>
      <div>ุตูู ุจุญุจ โฅ๏ธ ู ุดุบู</div>
      <div>ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ: <a href="[https://salehgnutux.github.io/gnutux/](https://salehgnutux.github.io/gnutux/)" target="_blank" rel="noopener noreferrer">GNUTUX</a></div>
    </div>
  </div>

  <div id="linkModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-content">
      <h3>ุฅุฏุฑุงุฌ ุฑุงุจุท</h3>
      <input id="linkText" placeholder="ูุต ุงูุฑุงุจุท" />
      <input id="linkUrl" placeholder="[https://example.com](https://example.com)" />
      <div class="modal-actions">
        <button id="insertLink" class="btn-primary">ุฅุฏุฑุงุฌ</button>
        <button id="cancelLink" class="btn-secondary">ุฅูุบุงุก</button>
      </div>
    </div>
  </div>

  <div id="imageModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-content">
      <h3>ุฅุฏุฑุงุฌ ุตูุฑุฉ</h3>
      <input id="imageAlt" placeholder="ุงููุต ุงูุจุฏูู" />
      <input id="imageUrl" placeholder="[https://example.com/image.jpg](https://example.com/image.jpg)" />
      <div class="modal-actions">
        <button id="insertImage" class="btn-primary">ุฅุฏุฑุงุฌ</button>
        <button id="cancelImage" class="btn-secondary">ุฅูุบุงุก</button>
      </div>
    </div>
  </div>

  <div id="emojiPanel" class="emoji-panel hidden"></div>

  <script src="marked.umd.js"></script>
  <script src="script.js"></script>

  <script>
    // Register Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then(reg => console.log('Service Worker ูุณุฌู:', reg.scope))
          .catch(err => console.error('ูุดู ุชุณุฌูู Service Worker:', err));
      });
    }
  </script>
</body>
</html>
